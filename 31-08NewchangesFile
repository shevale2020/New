  public static bool DeleteExecRecord(int MonthsToKeep)
        {
            try
            {
              //  Globals.DBLogger.Info("DeleteExecRecord : Cleaning All Table...");
                using (GatewayDBContext2 dbContext = new GatewayDBContext2())
                {
                    Dictionary<string, InboundProcessingSummary> SuccessIPS = new Dictionary<string, InboundProcessingSummary>();
                    Dictionary<string,InboundProcessingSummary> FailIPS = new Dictionary<string,InboundProcessingSummary>();
                    Dictionary<string,OutboundFilesSummary> SuccessOFS = new Dictionary<string,OutboundFilesSummary>();
                    Dictionary<string,OutboundFilesSummary> FailOFS = new Dictionary<string,OutboundFilesSummary>();
                    Dictionary<string,OutboundProcessingSummary> SuccessOPS = new Dictionary<string,OutboundProcessingSummary>();
                    Dictionary<string,OutboundProcessingSummary> FailOPS = new Dictionary<string,OutboundProcessingSummary>();
                    Dictionary<string, OutboundProcessingSummary> _FileStatusList = new Dictionary<string,OutboundProcessingSummary>();
                    //get date before 3 month
                    DateTime date = DateTime.Now.AddMonths(-MonthsToKeep);
                    SFTPHelper SFTPHelper = new SFTPHelper();

                    //get records from InboundProcessingSummaries
                    var infoListForIPS = dbContext.InboundProcessingSummaries
                               .Where(x => x.ProcessingStartedTime < date).ToList();
                   
                    if (infoListForIPS != null)
                    {
                        foreach (var infoIPS in infoListForIPS)
                        {
                            var ForRemoveinfoIPS = infoIPS;
                            try
                            {

                                var LocalSourceFileName = Path.GetFileName(infoIPS.LocalSourceFilePath);
                                var LocalSourceFilePath = Path.GetDirectoryName(infoIPS.LocalSourceFilePath);
                                //get all Local files from Direcotory
                                string[] AllLocalSourceFiles = System.IO.Directory.GetFiles(LocalSourceFilePath, LocalSourceFileName + ".*");
                                foreach (string f in AllLocalSourceFiles)
                                {
                                    try
                                    {
                                        infoIPS.LocalSourceFilePath = f;
                                        System.IO.File.Delete(f);
                                        SuccessIPS.Add("LocalSourceFilePath",infoIPS);
                                    }
                                    catch
                                    {
                                        FailIPS.Add("LocalSourceFilePath",infoIPS);
                                    }

                                }
                                //delete that file on SFTP Directory
                                SFTPHelper.DeleteSFTPFile(infoIPS.LocalSuccessFilePath);

                                var LocalSuccessFileName = Path.GetFileName(infoIPS.LocalSuccessFilePath);
                                var LocalSuccessFilePath = Path.GetDirectoryName(infoIPS.LocalSuccessFilePath);
                                //get all Local files from Direcotory
                                string[] AllLocalSuccessFiles = System.IO.Directory.GetFiles(LocalSuccessFilePath, "'" + LocalSuccessFileName + "'.*");
                                foreach (string f in AllLocalSuccessFiles)
                                {
                                    try
                                    {
                                        infoIPS.LocalSuccessFilePath = f;

                                        System.IO.File.Delete(f);
                                        SuccessIPS.Add("LocalSuccessFilePath", infoIPS);
                                    }
                                    catch
                                    {
                                        FailIPS.Add("LocalSuccessFilePath",infoIPS);
                                    }

                                }

                                //delete that file on SFTP Directory
                                SFTPHelper.DeleteSFTPFile(infoIPS.SFTPSuccessFilePath);

                                var LocalFailedFileName = Path.GetFileName(infoIPS.LocalFailedFilePath);
                                var LocalFailedFilePath = Path.GetDirectoryName(infoIPS.LocalFailedFilePath);
                                //get all Local files from Direcotory
                                string[] AllLocalFailedFiles = System.IO.Directory.GetFiles(LocalFailedFilePath, "'" + LocalFailedFileName + "'.*");
                                foreach (string f in AllLocalFailedFiles)
                                {
                                    try
                                    {
                                        infoIPS.LocalFailedFilePath = f;
                                        System.IO.File.Delete(f);
                                        SuccessIPS.Add("LocalFailedFilePath", infoIPS);
                                    }
                                    catch
                                    {
                                        FailIPS.Add("LocalFailedFilePath",infoIPS);
                                    }

                                }
                            }
                            catch (IOException)
                            {
                              
                            }
                            //delete that file on SFTP Directory
                            SFTPHelper.DeleteSFTPFile(infoIPS.SFTPFailedFilePath);
                            //delete Data From Database
                            dbContext.InboundProcessingSummaries.Remove(ForRemoveinfoIPS);
                            dbContext.SaveChanges();

                        }
                    }

                 
